This is the structure of the whole monorepo. Use this as context for the whole structure.

Please eidt this file when you change anything in this structure.

.
├── GMAIL_PUSH_SETUP.md
├── README.md
├── eslint.config.mjs
├── example-master-prompt.md
├── next-env.d.ts
├── next.config.ts
├── package-lock.json
├── package.json
├── postcss.config.mjs
├── prisma
│   ├── migrations
│   │   ├── 20250606224835_add_generated_reply
│   │   │   └── migration.sql
│   │   ├── 20250606225402_add_history_id_to_settings
│   │   │   └── migration.sql
│   │   ├── 20250606233445_add_action_history_table
│   │   │   └── migration.sql
│   │   ├── 20250609183409_replace_master_prompt_with_personalized_os
│   │   │   └── migration.sql
│   │   └── migration_lock.toml
│   └── schema.prisma
├── public
│   ├── file.svg
│   ├── globe.svg
│   ├── next.svg
│   ├── vercel.svg
│   └── window.svg
├── src
│   ├── app
│   │   ├── api
│   │   │   ├── action-history
│   │   │   │   └── route.ts
│   │   │   ├── auth
│   │   │   │   └── [...nextauth]
│   │   │   │       └── route.ts
│   │   │   ├── auto-fetch-emails
│   │   │   │   └── route.ts
│   │   │   ├── email-stats
│   │   │   │   └── route.ts
│   │   │   ├── fetch-emails
│   │   │   │   └── route.ts
│   │   │   ├── generate-reply
│   │   │   │   └── route.ts
│   │   │   ├── gmail-push
│   │   │   │   ├── setup
│   │   │   │   │   └── route.ts
│   │   │   │   └── webhook
│   │   │   │       └── route.ts
│   │   │   ├── labels
│   │   │   │   ├── route.ts
│   │   │   │   └── sync
│   │   │   │       └── route.ts
│   │   │   ├── master-prompt
│   │   │   │   ├── activate
│   │   │   │   │   └── route.ts
│   │   │   │   ├── ensure
│   │   │   │   │   └── route.ts
│   │   │   │   ├── generate
│   │   │   │   │   └── route.ts
│   │   │   │   ├── history
│   │   │   │   │   └── route.ts
│   │   │   │   └── route.ts
│   │   │   ├── personalized-os
│   │   │   │   ├── ensure
│   │   │   │   │   └── route.ts
│   │   │   │   └── generate
│   │   │   │       └── route.ts
│   │   │   ├── queue
│   │   │   │   ├── generate-draft
│   │   │   │   │   └── route.ts
│   │   │   │   └── route.ts
│   │   │   ├── test-email
│   │   │   │   └── route.ts
│   │   │   └── test-reply-generation
│   │   │       └── route.ts
│   │   ├── auth
│   │   │   └── signin
│   │   │       └── page.tsx
│   │   ├── favicon.ico
│   │   ├── globals.css
│   │   ├── layout.tsx
│   │   ├── page.tsx
│   │   └── tools
│   │       └── test-email
│   │           └── page.tsx
│   ├── components
│   │   ├── EzraApp.tsx
│   │   ├── SessionProvider.tsx
│   │   ├── layout
│   │   │   ├── LeftNav.tsx
│   │   │   └── TopBar.tsx
│   │   ├── pages
│   │   │   ├── HistoryPage.tsx
│   │   │   ├── MetricsPage.tsx
│   │   │   ├── QueuePage.tsx
│   │   │   ├── SettingsPage.tsx
│   │   │   ├── TestEmailPage.tsx
│   │   │   └── VoiceRulesPage.tsx
│   │   └── ui
│   │       ├── ActionCard.tsx
│   │       ├── ConfidencePill.tsx
│   │       ├── KeyMetricCard.tsx
│   │       ├── LineGraph.tsx
│   │       ├── PieChart.tsx
│   │       └── Tooltip.tsx
│   ├── lib
│   │   ├── auth.ts
│   │   ├── calendarService.ts
│   │   ├── contextEngine.ts
│   │   ├── gmail.ts
│   │   ├── gmailPushService.ts
│   │   ├── llm.ts
│   │   ├── masterPromptGenerator.ts
│   │   ├── migrationHelper.ts
│   │   ├── mockData.tsx
│   │   ├── personalizedOSService.ts
│   │   ├── prisma.ts
│   │   ├── prompts.ts
│   │   ├── replyGenerator.ts
│   │   └── utils.ts
│   ├── prompts
│   │   ├── contextSynthesizerPrompt.md
│   │   ├── defaultMasterPrompt.md
│   │   ├── distilledMasterPromptGenerator.md
│   │   ├── finalToolContextGeneratorPrompt.md
│   │   ├── incomingEmailScannerPrompt.md
│   │   ├── masterPromptUpdaterFromDistilled.md
│   │   ├── masterStyleDerivationPrompt.md
│   │   ├── replyGenerationPrompt.md
│   │   ├── styleAnalysisPrompt.md
│   │   └── styleCompressorPrompt.md
│   └── types
│       ├── index.ts
│       └── next-auth.d.ts
├── structure.txt
├── test-email.js
├── test-reply-generation.js
├── tsconfig.json
└── tsconfig.tsbuildinfo