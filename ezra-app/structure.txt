.
├── GMAIL_PUSH_SETUP.md
├── Procfile
├── README.md
├── dist
│   ├── lib
│   │   ├── auth.js
│   │   ├── calendarService.js
│   │   ├── contextEngine.js
│   │   ├── gmail.js
│   │   ├── gmailPushService.js
│   │   ├── llm.js
│   │   ├── masterPromptGenerator.js
│   │   ├── prisma.js
│   │   ├── prompts.js
│   │   ├── queues.js
│   │   ├── redis.js
│   │   ├── replyGenerator.js
│   │   └── utils.js
│   ├── types
│   │   ├── index.js
│   │   └── worker.js
│   └── worker.js
├── eslint.config.mjs
├── example-master-prompt.md
├── heroku_plan.md
├── logs_result.json
├── next-env.d.ts
├── next.config.ts
├── package-lock.json
├── package.json
├── postcss.config.mjs
├── prisma
│   ├── migrations
│   │   ├── 20250606224835_add_generated_reply
│   │   │   └── migration.sql
│   │   ├── 20250606225402_add_history_id_to_settings
│   │   │   └── migration.sql
│   │   ├── 20250606233445_add_action_history_table
│   │   │   └── migration.sql
│   │   ├── 20250608214015_add_labels_system
│   │   │   └── migration.sql
│   │   ├── 20250609201759_add_pos_models
│   │   │   └── migration.sql
│   │   ├── 20250611203421_add_onboarding_completion_flags
│   │   │   └── migration.sql
│   │   ├── 20250611235631_add_gmail_thread_id
│   │   │   └── migration.sql
│   │   ├── 20250612001523_add_rfc2822_message_id
│   │   │   └── migration.sql
│   │   ├── 20250612001658_add_threading_headers
│   │   │   └── migration.sql
│   │   └── migration_lock.toml
│   └── schema.prisma
├── public
│   ├── file.svg
│   ├── globe.svg
│   ├── next.svg
│   ├── vercel.svg
│   └── window.svg
├── src
│   ├── app
│   │   ├── api
│   │   │   ├── action-history
│   │   │   │   └── route.ts
│   │   │   ├── auth
│   │   │   │   └── [...nextauth]
│   │   │   │       └── route.ts
│   │   │   ├── auto-fetch-emails
│   │   │   │   └── route.ts
│   │   │   ├── cron
│   │   │   │   └── renew-gmail-watches
│   │   │   │       └── route.ts
│   │   │   ├── email-stats
│   │   │   │   └── route.ts
│   │   │   ├── fetch-emails
│   │   │   │   └── route.ts
│   │   │   ├── generate-reply
│   │   │   │   └── route.ts
│   │   │   ├── gmail-push
│   │   │   │   ├── setup
│   │   │   │   │   └── route.ts
│   │   │   │   └── webhook
│   │   │   │       └── route.ts
│   │   │   ├── jobs
│   │   │   │   └── status
│   │   │   │       └── route.ts
│   │   │   ├── master-prompt
│   │   │   │   ├── activate
│   │   │   │   │   └── route.ts
│   │   │   │   ├── auto-generate
│   │   │   │   │   └── route.ts
│   │   │   │   ├── ensure
│   │   │   │   │   └── route.ts
│   │   │   │   ├── generate
│   │   │   │   │   └── route.ts
│   │   │   │   ├── history
│   │   │   │   │   └── route.ts
│   │   │   │   └── route.ts
│   │   │   ├── pos
│   │   │   │   ├── auto-generate
│   │   │   │   │   └── route.ts
│   │   │   │   ├── interaction-network
│   │   │   │   │   ├── auto-generate
│   │   │   │   │   │   └── route.ts
│   │   │   │   │   └── route.ts
│   │   │   │   └── strategic-rulebook
│   │   │   │       ├── auto-generate
│   │   │   │       │   └── route.ts
│   │   │   │       └── route.ts
│   │   │   ├── queue
│   │   │   │   ├── generate-draft
│   │   │   │   │   └── route.ts
│   │   │   │   ├── generated-reply
│   │   │   │   │   └── route.ts
│   │   │   │   └── route.ts
│   │   │   ├── test-email
│   │   │   │   └── route.ts
│   │   │   ├── test-gmail-flow
│   │   │   │   └── route.ts
│   │   │   ├── test-reply-generation
│   │   │   │   └── route.ts
│   │   │   └── user
│   │   │       └── onboarding-status
│   │   │           └── route.ts
│   │   ├── auth
│   │   │   └── signin
│   │   │       └── page.tsx
│   │   ├── favicon.ico
│   │   ├── globals.css
│   │   ├── layout.tsx
│   │   ├── page.tsx
│   │   ├── privacy
│   │   │   └── page.tsx
│   │   └── tools
│   │       └── test-email
│   │           └── page.tsx
│   ├── components
│   │   ├── EzraApp.tsx
│   │   ├── SessionProvider.tsx
│   │   ├── assets
│   │   │   └── logo.png
│   │   ├── layout
│   │   │   ├── TopBar.tsx
│   │   │   └── app-sidebar.tsx
│   │   ├── navbar-components
│   │   │   ├── nav-main.tsx
│   │   │   ├── nav-projects.tsx
│   │   │   ├── nav-secondary.tsx
│   │   │   └── nav-user.tsx
│   │   ├── pages
│   │   │   ├── FeedbackPage.tsx
│   │   │   ├── HistoryPage.tsx
│   │   │   ├── MetricsPage.tsx
│   │   │   ├── OldVoiceRules.tsx
│   │   │   ├── QueuePage.tsx
│   │   │   ├── SettingsPage.tsx
│   │   │   ├── TestEmailPage.tsx
│   │   │   └── VoiceRulesPage.tsx
│   │   └── ui
│   │       ├── ActionCard.tsx
│   │       ├── ConfidencePill.tsx
│   │       ├── KeyMetricCard.tsx
│   │       ├── LineGraph.tsx
│   │       ├── OnboardingOverlay.tsx
│   │       ├── PieChart.tsx
│   │       ├── Tooltip.tsx
│   │       └── sidebar
│   │           ├── avatar.tsx
│   │           ├── breadcrumb.tsx
│   │           ├── button.tsx
│   │           ├── collapsible.tsx
│   │           ├── dropdown-menu.tsx
│   │           ├── input.tsx
│   │           ├── separator.tsx
│   │           ├── sheet.tsx
│   │           ├── sidebar.tsx
│   │           ├── skeleton.tsx
│   │           └── tooltip.tsx
│   ├── hooks
│   │   ├── use-mobile.ts
│   │   └── useOnboardingStatus.ts
│   ├── lib
│   │   ├── auth.ts
│   │   ├── calendarService.ts
│   │   ├── contextEngine.ts
│   │   ├── gmail.ts
│   │   ├── gmailPushService.ts
│   │   ├── llm.ts
│   │   ├── masterPromptGenerator.ts
│   │   ├── mockData.tsx
│   │   ├── prisma.ts
│   │   ├── prompts.ts
│   │   ├── queues.ts
│   │   ├── redis.ts
│   │   ├── replyGenerator.ts
│   │   └── utils.ts
│   ├── prompts
│   │   ├── contextSynthesizerPrompt.md
│   │   ├── defaultMasterPrompt.md
│   │   ├── distilledMasterPromptGenerator.md
│   │   ├── finalToolContextGeneratorPrompt.md
│   │   ├── incomingEmailScannerPrompt.md
│   │   ├── interactionNetworkGeneratorPrompt.md
│   │   ├── masterPromptUpdaterFromDistilled.md
│   │   ├── masterStyleDerivationPrompt.md
│   │   ├── replyGenerationPrompt.md
│   │   ├── strategicRulebookGeneratorPrompt.md
│   │   ├── styleAnalysisPrompt.md
│   │   └── styleCompressorPrompt.md
│   ├── types
│   │   ├── index.ts
│   │   ├── next-auth.d.ts
│   │   └── worker.ts
│   └── worker.ts
├── structure.txt
├── tailwind.config.js
├── test-email.js
├── test-reply-generation.js
├── tsconfig.json
├── tsconfig.tsbuildinfo
├── tsconfig.worker.json
├── tsconfig.worker.tsbuildinfo
└── vercel.json